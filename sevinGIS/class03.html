<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>ГИС 03</title>
    <meta charset="utf-8" />
    <script src="https://nplatonov.github.io/site_libs/header-attrs-2.20/header-attrs.js"></script>
    <link href="https://nplatonov.github.io/site_libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="https://nplatonov.github.io/site_libs/remark-css-0.0.1/hygge.css" rel="stylesheet" />
    <link href="https://nplatonov.github.io/site_libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="https://nplatonov.github.io/site_libs/tile-view-0.2.6/tile-view.js"></script>
    <link href="https://nplatonov.github.io/site_libs/animate.css-3.7.2/animate.xaringan.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://nplatonov.github.io/site_libs/common.css" type="text/css" />
    <link rel="stylesheet" href="https://nplatonov.github.io/site_libs/moon_reader.css" type="text/css" />
    <link rel="stylesheet" href="https://nplatonov.github.io/site_libs/moon_reader-fonts.css" type="text/css" />
  </head>
  <body>
<style>
.remark-backdrop:after{
   content: 'Никита Платонов \A \A [ГИС аспирантура](class.html)';
}
:root {--pointsize: 22pt;}
</style>

    <textarea id="source">

layout: true







.banner[

.shorttitle[
[ГИС аспирантура](class.html)
]

]

---
class: metadata customtitle middle left
name: H3216
<iframe width='220' height='220' class='timenow' src='https://www.timeanddate.com/worldclock/fullscreen.html?n=1440' frameborder='0' allow='encrypted-media' allowfullscreen></iframe>

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07)
## [Проекции](#Heb3c)
]
.mainbar.right-column[





.author[Никита&nbsp;Платонов]


.institute[с.н.с. ИПЭЭ РАН]




.title[Основы работы с пространственными данными]


.subtitle[ГИС технологии в биологических исследованиях]


.what[Занятие 03]


.where[]


.when[23 марта 2023 г. .updated[Обновлено: 2023-03-21 21:08]]
















]
---
class: middle
name: H3e07

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[].bg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[




+ Геометрия (точка, линия, полигон)

+ Таблица с атрибутами, связанная с геометрией (один к одному)

+ Информация о проекции


]
---

name: Hbea7

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7) <span class="bullet bullet-active">[&#8226;](#Hbea7)</span><span class="bullet mslide9m">[&#8226;](#Ha5c4)</span>.fg[].bg[]
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


Пример на основе данных <a name=cite-Durner2019_data></a>([Durner, 2019](#bib)),
используемых в работе <a name=cite-Durner2019_RSF></a>([Durner et al., 2019](#bib)).

Исходные данные - локации белых медведей по данным спутниковой биотелеметрии.
Фрагмент атрибутивной таблицы:

.dummy-for-font-size[

| BearID_ud|DateTimeUTC_ud  |season |period | coords.x1| coords.x2|
|---------:|:---------------|:------|:------|---------:|---------:|
|       244|10/1/2008 0:01  |gth    |0716   |  -147.985|    70.491|
|       244|10/4/2008 2:01  |gth    |0716   |  -147.985|    70.491|
|       244|10/7/2008 3:00  |gth    |0716   |  -147.984|    70.491|
|       244|10/10/2008 4:00 |gth    |0716   |  -147.985|    70.491|
|       244|10/13/2008 4:00 |gth    |0716   |  -147.985|    70.491|
|       127|8/17/2006 0:00  |mlt    |9606   |  -150.414|    72.464|
|       127|8/20/2006 16:01 |mlt    |9606   |  -150.967|    72.848|
|       127|8/24/2006 16:00 |mlt    |9606   |  -154.550|    73.357|
|       127|8/27/2006 16:00 |mlt    |9606   |  -155.652|    73.748|
|       127|8/30/2006 16:00 |mlt    |9606   |  -156.683|    73.872|
]





]
---

name: Ha5c4

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7) <span class="bullet bullet">[&#8226;](#Hbea7)</span><span class="bullet bullet-active">[&#8226;](#Ha5c4)</span>.fg[].bg[]
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/3ff50ec1~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />





]
---

name: Hfc7f

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f).fg[]
##### [POINT (точки)](#Hfc7f).fg[].bg[]
##### [LINESTRING (линии)](#Hef85)
##### [POLYGON (полигоны)](#H3d36)
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/ee1409e9~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

Выборка по четырем случайным особям.


]
---

name: Hef85

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f).fg[]
##### [POINT (точки)](#Hfc7f)
##### [LINESTRING (линии)](#Hef85).fg[].bg[]
##### [POLYGON (полигоны)](#H3d36)
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/9e0edbb4~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

Линии - соединение точек.


]
---

name: H3d36

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f).fg[]
##### [POINT (точки)](#Hfc7f)
##### [LINESTRING (линии)](#Hef85)
##### [POLYGON (полигоны)](#H3d36).fg[].bg[]
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/e6ab3d79~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

Полигоны - буфер вокруг точек.




]
---

name: H322f

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f).fg[]
##### [POINT (точки)](#H322f).fg[].bg[]
##### [LINESTRING (линии)](#H2266)
##### [POLYGON (полигоны)](#H0ba7)
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/7b2785dd~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

<!-- Отображение локаций для каждой особи в отдельной панели. -->

]
---

name: H2266

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f).fg[]
##### [POINT (точки)](#H322f)
##### [LINESTRING (линии)](#H2266).fg[].bg[]
##### [POLYGON (полигоны)](#H0ba7)
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[







<img src="assets/lesson03/ce88590a~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />


]
---

name: H0ba7

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f).fg[]
##### [POINT (точки)](#H322f)
##### [LINESTRING (линии)](#H2266)
##### [POLYGON (полигоны)](#H0ba7).fg[].bg[]
#### [\{geom\} vs MULTI\{geom\}](#Ha724)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[



<img src="assets/lesson03/a165a12b~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />


]
---
class: middle
name: Ha724

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724).fg[].bg[]
##### [POINT vs MULTIPOINT:](#H613f)
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[



В каждой строке таблицы атрибутов есть поле геометрии

В поле геометрии представлена информация, как географически представлена запись (точка, линия, полигон).

В поле геометрии может храниться список, то есть, несколько пространственных точек, несколько линий, несколько полигонов.
В этом случае тип данных (по геометрии) будет множественным (MULTIPOINT, MULTILINESTRING, MULTIPOLYGON).


]
---

name: H613f

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724).fg[]
##### [POINT vs MULTIPOINT:](#H613f) <span class="bullet bullet-active">[&#8226;](#H613f)</span><span class="bullet mslide25m">[&#8226;](#H92c4)</span>.fg[].bg[]
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


POINT

.pulling[
.pull-left-30[


|id       |BearID_ud |
|:--------|:---------|
|max:0716 |212       |
|max:0716 |233       |
|max:0716 |233       |
|max:0716 |170       |
|max:0716 |170       |
|max:0716 |259       |

]
.pull-right-70[

<img src="assets/lesson03/d191ebf1~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

]
]


]
---

name: H92c4

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07).fg[]
#### [Исходные данные](#Hbea7)
#### [Вместе](#Hfc7f)
#### [Раздельно](#H322f)
#### [\{geom\} vs MULTI\{geom\}](#Ha724).fg[]
##### [POINT vs MULTIPOINT:](#H613f) <span class="bullet bullet">[&#8226;](#H613f)</span><span class="bullet bullet-active">[&#8226;](#H92c4)</span>.fg[].bg[]
### [Растр](#Hd741)
## [Проекции](#Heb3c)
]
.mainbar.right-column[

MULTIPOINT

.pulling[
.pull-left-30[


|id       |BearID_ud | npt|
|:--------|:---------|---:|
|max:0716 |170       |   2|
|max:0716 |212       |   1|
|max:0716 |233       |   2|
|max:0716 |259       |   1|

]

.pull-right-70[

<img src="assets/lesson03/89700a39~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

]
]


]
---
class: middle
name: Hd741

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07)
### [Растр](#Hd741).fg[].bg[]
#### [Исходные данные ](#Ha195)
#### [Псевдоцвета ](#H5dd5)
#### [Размер ячейки](#H9531)
#### [Категории](#H3bf0)
## [Проекции](#Heb3c)
]
.mainbar.right-column[




+ Сетка

   + Размер ячейки

   + Пространственный охват (минимальные и максимальные значение по обоим осям)

   + Число стобцов и строк

   + Информация о проекции

+ Данные (многослойные) в числовых значениях

+ Категории

+ Таблица цветов


]
---

name: Ha195

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07)
### [Растр](#Hd741).fg[]
#### [Исходные данные ](#Ha195).fg[].bg[]
#### [Псевдоцвета ](#H5dd5)
#### [Размер ячейки](#H9531)
#### [Категории](#H3bf0)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/713e9495~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

Участок обитания (кёрнел) <a name=cite-Worton1989></a>([Worton, 1989](#bib))
на основе данных ([Durner, 2019](#bib)).


]
---

name: H5dd5

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07)
### [Растр](#Hd741).fg[]
#### [Исходные данные ](#Ha195)
#### [Псевдоцвета ](#H5dd5).fg[].bg[]
#### [Размер ячейки](#H9531)
#### [Категории](#H3bf0)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/664580d6~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

Для отображения используются псевдоцвета, градации серого, RGB


]
---

name: H9531

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07)
### [Растр](#Hd741).fg[]
#### [Исходные данные ](#Ha195)
#### [Псевдоцвета ](#H5dd5)
#### [Размер ячейки](#H9531).fg[].bg[]
#### [Категории](#H3bf0)
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/48b3a850~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

В отличие от вектора, в растрах жестко заданы характеристики пространственной сетки


]
---

name: H3bf0

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07).fg[]
### [Вектор](#H3e07)
### [Растр](#Hd741).fg[]
#### [Исходные данные ](#Ha195)
#### [Псевдоцвета ](#H5dd5)
#### [Размер ячейки](#H9531)
#### [Категории](#H3bf0).fg[].bg[]
## [Проекции](#Heb3c)
]
.mainbar.right-column[


<img src="assets/lesson03/5fc8bc13~chunk.png" width="1330" height="568" style="display: block; margin: auto;" />

Растры позволяют оперировать с номинальными шкалами


]
---
class: middle
name: Heb3c

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07)
## [Проекции](#Heb3c).fg[].bg[]
]
.mainbar.right-column[




В QGIS и R используются следующие нотации PROJ <a name=cite-PROJ></a>([PROJ contributors, 2022](#bib)).

+ EPSG

+ WKT

+ PRO4 string


]
---
name: bib
layout: false
DOI: [10.2307/1938423](https://doi.org/10.2307%2F1938423).

.sidebar.left-column[
## [Растровые и векторные данные](#H3e07)
## [Проекции](#Heb3c)
]
.mainbar.right-column[









.footnote.small[
****

<a name=bib-Durner2019_data></a>[Durner, G. M.](#cite-Durner2019_data)
(2019). _Polar Bear Distribution and Habitat Resource Selection Data,
Beaufort and Chukchi Seas, 1985-2016_. DOI:
[10.5066/P9ZRJ3XU](https://doi.org/10.5066%2FP9ZRJ3XU). URL:
[https://alaska.usgs.gov/products/data.php?dataid=246](https://alaska.usgs.gov/products/data.php?dataid=246).

<a name=bib-Durner2019_RSF></a>[Durner, G. M., D. C. Douglas, and T. C.
Atwood](#cite-Durner2019_RSF) (2019). "Are polar bear habitat resource
selection functions developed from 1985-1995 data still useful?" In:
_Ecology and Evolution_ 9.15, pp. 8625-8638. DOI:
[10.1002/ece3.5401](https://doi.org/10.1002%2Fece3.5401).

<a name=bib-PROJ></a>[PROJ contributors](#cite-PROJ) (2022). _PRØJ
coordinate transformation software library_. Open Source Geospatial
Foundation. URL: [https://proj.org/](https://proj.org/).

<a name=bib-Worton1989></a>[Worton, B. J.](#cite-Worton1989) (1989).
"Kernel Methods for Estimating the Utilization Distribution in
Home-Range Studies". In: _Ecology_ 70.1, pp. 164-168. ISSN: 1939-9170.

]


]

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"countIncrementalSlides": false,
"ratio": "29:18",
"navigation": {
"scroll": true,
"click": false,
"touch": true
},
"highlightLines": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

  </body>
</html>
