<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>
<script src="https://nplatonov.github.io/site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="https://nplatonov.github.io/site_libs/jquery-1.12.4/jquery.min.js"></script>
<link href="https://nplatonov.github.io/site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="https://nplatonov.github.io/site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="https://nplatonov.github.io/site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="https://nplatonov.github.io/site_libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="https://nplatonov.github.io/site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="https://nplatonov.github.io/site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="https://nplatonov.github.io/site_libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="https://nplatonov.github.io/site_libs/pymjs-1.3.2/pym.v1.min.js"></script>
<script src="https://nplatonov.github.io/site_libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="https://nplatonov.github.io/site_libs/leaflet-measure-2.1.7/leaflet-measure.css" rel="stylesheet" />
<script src="https://nplatonov.github.io/site_libs/leaflet-measure-2.1.7/leaflet-measure.min.js"></script>
  <title>leaflet</title>
</head>
<body>
<div id="htmlwidget_container">
  <div id="htmlwidget-b0a0746b84a1ca018a90" style="width:100%;height:400px;" class="leaflet html-widget"></div>
  <script>HTMLWidgets.pymChild = new pym.Child();HTMLWidgets.addPostRenderHandler(function(){
                                setTimeout(function(){HTMLWidgets.pymChild.sendHeight();},100);
                            });</script>
</div>
<script type="application/json" data-for="htmlwidget-b0a0746b84a1ca018a90">{"x":{"options":{"minZoom":3,"maxZoom":12,"crs":{"crsClass":"L.Proj.CRS","code":"EPSG:3576","proj4def":"+proj=laea +lat_0=90 +lon_0=90 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs","projectedBounds":null,"options":{"origin":[-20037509.762,20037509.762],"resolutions":[156543.045015625,78271.5225078125,39135.7612539063,19567.8806269531,9783.94031347656,4891.97015673828,2445.98507836914,1222.99253918457,611.496269592285,305.748134796143,152.874067398071,76.4370336990357,38.2185168495178,19.1092584247589,9.55462921237946,4.77731460618973,2.38865730309486,1.19432865154743,0.597164325773716],"bounds":[[-20037509.762,20037509.762],[20037509.762,-20037509.762]]}}},"calls":[{"method":"addTiles","args":["https://{s}.tiles.arcticconnect.ca/osm_3576/{z}/{x}/{y}.png",null,"AOI",{"minZoom":3,"maxZoom":9,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":true,"zoomOffset":0,"zoomReverse":false,"opacity":0.99,"zIndex":1,"detectRetina":false,"continuousWorld":false,"attribution":"Map: © ArcticConnect. Data: © OpenStreetMap contributors"}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":false,"updateWhenIdle":true,"position":"topright"}]},{"method":"addMeasure","args":[{"position":"topleft","primaryLengthUnit":"kilometers","primaryAreaUnit":"sqmeters","activeColor":"#ABE67E","completedColor":"#C8F2BE","popupOptions":{"className":"leaflet-measure-resultpopup","autoPanPadding":[10,10]},"captureZIndex":10000,"localization":"ru","decPoint":".","thousandsSep":","}]}],"setView":[[75,90],5,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-b0a0746b84a1ca018a90">{"viewer":{"width":"100%","height":400,"padding":0,"fill":true},"browser":{"width":"100%","height":400,"padding":0,"fill":true}}</script>
</body>
</html>
